name: test

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 0
      - name: Find Tag
        id: tagger
        run: |
          git fetch --prune
          $foo = git describe --tags --abbrev=0 --match 'v*' --exclude '*-rc*' 'HEAD~'
          Write-Output "::set-output name=tag::$foo"
      - name: Show Tag
        id: display
        run: |
          tag='${{steps.tagger.outputs.tag}}'.substring(1)
          Write-Output "Output from Find Tag: $tag"
